   Compiling arrow-buffer v54.3.1
   Compiling ahash v0.8.12
   Compiling chrono v0.4.42
   Compiling zeroize v1.8.2
   Compiling regex v1.12.2
   Compiling openssl v0.10.75
   Compiling rand_chacha v0.9.0
   Compiling zopfli v0.8.3
   Compiling uuid v1.18.1
   Compiling async-trait v0.1.89
   Compiling rustls-pki-types v1.13.1
   Compiling curve25519-dalek v4.1.3
   Compiling rand v0.9.2
   Compiling zip v2.4.2
   Compiling criterion v0.5.1
   Compiling arrow-data v54.3.1
   Compiling rustls-webpki v0.103.8
   Compiling webpki-roots v1.0.4
   Compiling webpki-roots v0.26.11
   Compiling proptest v1.9.0
   Compiling rustls v0.23.35
   Compiling ed25519-dalek v2.2.0
   Compiling arrow-array v54.3.1
   Compiling native-tls v0.2.14
   Compiling tokio-native-tls v0.3.1
   Compiling hyper-tls v0.6.0
   Compiling reqwest v0.12.24
   Compiling arrow-select v54.3.1
   Compiling arrow-ipc v54.3.1
   Compiling arrow-row v54.3.1
   Compiling arrow-arith v54.3.1
   Compiling ureq v2.12.1
   Compiling arrow-cast v54.3.1
   Compiling arrow-string v54.3.1
   Compiling arrow-ord v54.3.1
   Compiling hf-hub v0.4.3
   Compiling arrow-csv v54.3.1
   Compiling arrow-json v54.3.1
   Compiling parquet v54.3.1
   Compiling arrow v54.3.1
   Compiling trueno-db v0.3.3 (/home/noah/src/trueno-db)
   Compiling alimentar v0.2.1 (/home/noah/src/alimentar)
   Compiling trueno-rag v0.1.0 (/home/noah/src/trueno-rag)
   Compiling entrenar v0.2.2 (/home/noah/src/entrenar)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 21.21s
     Running `target/debug/examples/citl --mode index`
=== Compiler-in-the-Loop (CITL) Training Examples ===

1. FIX PATTERN STORE

DecisionPatternStore with hybrid BM25 + dense retrieval

Configuration:
  Chunk size: 256
  Embedding dim: 384
  RRF k: 60

Indexing pattern for E0308: 2 decisions, success rate 67%

Indexing pattern for E0308: 2 decisions, success rate 67%

Indexing pattern for E0382: 2 decisions, success rate 67%

Total patterns indexed: 3

--- Querying for E0308 fixes ---
Found 2 suggestions:
  1. Score: 0.033, Weighted: 0.027
     Error: E0308, Success rate: 67%
     Decisions: ["type_inference", "type_mismatch_detected"]
  2. Score: 0.033, Weighted: 0.027
     Error: E0308, Success rate: 67%
     Decisions: ["type_inference", "type_mismatch_detected"]

--- JSON Export ---
Exported 926 bytes of JSON
Imported 3 patterns into new store

2. DECISION TRACING & CORRELATION

Tracking compiler decisions through compilation

Decision chain:
  parse_001 [parsing]: Parsed function signature
    at main.rs:5:1-5:4294967295
  type_001 [type_inference]: Inferred return type i32
    at main.rs:5:1-5:4294967295
    depends on: ["parse_001"]
  type_002 [type_inference]: Checked argument types
    at main.rs:6:1-8:20
    depends on: ["type_001"]
  borrow_001 [borrow_check]: Verified borrow rules
    at main.rs:7:1-7:4294967295
    depends on: ["type_002"]

--- Span Analysis ---
Error at: main.rs:7:1-7:4294967295
  Overlapping decision: type_002 - type_inference
  Overlapping decision: borrow_001 - borrow_check

3. TARANTULA FAULT LOCALIZATION

Statistical fault localization using Tarantula scoring

Ingesting 8 failed sessions with type_inference...
Ingesting 2 successful sessions with type_inference...
Ingesting 10 successful sessions with borrow_check...

Total sessions: 20 (12 success, 8 failure)

--- Tarantula Suspiciousness Scores ---
Formula: suspiciousness = fail_freq / (fail_freq + success_freq)

  type_inference: 0.857 - HIGHLY SUSPICIOUS
  borrow_check: 0.000 - Low suspicion

Expected: type_inference should have high suspiciousness
         (appears in 8/10 failures, only 2/12 successes)
         borrow_check should have low suspiciousness
         (appears in 0 failures, 10/12 successes)

4. COMPLETE CITL WORKFLOW

End-to-end CITL workflow for CI/CD integration

Phase 1: Building history from CI/CD logs...
  Ingested 5 builds (2 success, 3 failure)
  Patterns indexed: 2

Phase 2: New compilation error detected...
  Error: E0308 at src/new_module.rs:25:1-25:4294967295

Phase 3: Analysis results...

  Suspicious decisions:
    (none in overlapping span)

  Fix suggestions:
    1. [score=0.02] - let x: i32 = s;

Phase 4: Global statistics...

  Top suspicious decision types:
    type_inference: 0.57
    borrow_check: 0.50

  Decisions by file:
    src/lib.rs: 2 decisions
    src/main.rs: 1 decisions
    src/utils.rs: 2 decisions

Phase 5: Exporting learned patterns...
  Exported 2 patterns (507 bytes)
  Ready for: artifact storage, cross-team sharing, etc.

5. APR PERSISTENCE

Binary persistence with .apr format (zstd compressed)

Created store with 3 patterns

--- Saving to APR ---
  Path: /tmp/citl_example.apr
  Size: 508 bytes

--- Size Comparison ---
  JSON: 821 bytes
  APR:  508 bytes (62% of JSON)

--- Loading from APR ---
  Loaded 3 patterns
  RAG index rebuilt: 1 suggestions for E0308

--- Config Preserved ---
  Chunk size: 256
  Embedding dim: 384
  RRF k: 60

  Cleaned up temp file

=== Examples Complete ===

